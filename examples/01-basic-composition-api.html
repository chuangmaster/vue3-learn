<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>01 - åŸºç¤ Composition API</title>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .container {
            background: white;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        h1, h2 {
            color: #2c3e50;
        }
        .example {
            margin: 20px 0;
            padding: 15px;
            border: 2px solid #e74c3c;
            border-radius: 5px;
            background: #fff5f5;
        }
        .code {
            background: #f4f4f4;
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        button:hover {
            background: #2980b9;
        }
        .highlight {
            background: #ffffcc;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸ“š ç¬¬ä¸€èª²ï¼šåŸºç¤ Composition API</h1>
        
        <h2>ğŸ‘‹ æ­¡è¿ä¾†åˆ° Vue 3 çš„ä¸–ç•Œï¼</h2>
        <p>åœ¨é€™ä¸€èª²ä¸­ï¼Œæˆ‘å€‘å°‡å­¸ç¿’ Composition API çš„åŸºæœ¬æ¦‚å¿µã€‚</p>
        
        <!-- ç¯„ä¾‹ 1ï¼šHello World -->
        <div class="example">
            <h3>ç¯„ä¾‹ 1ï¼šHello World with Composition API</h3>
            <div id="app1"></div>
            <div class="code">
// ä½¿ç”¨ Composition API çš„ Hello World
const { createApp, ref } = Vue

createApp({
  setup() {
    // ğŸ’¡ ref() å‰µå»ºéŸ¿æ‡‰å¼æ•¸æ“š
    const message = ref('Hello Vue 3!')
    
    // ğŸ’¡ setup() å¿…é ˆè¿”å›è¦åœ¨æ¨¡æ¿ä¸­ä½¿ç”¨çš„æ•¸æ“šå’Œæ–¹æ³•
    return {
      message
    }
  }
}).mount('#app1')</div>
        </div>
        
        <!-- ç¯„ä¾‹ 2ï¼šè¨ˆæ•¸å™¨ -->
        <div class="example">
            <h3>ç¯„ä¾‹ 2ï¼šäº’å‹•è¨ˆæ•¸å™¨</h3>
            <div id="app2"></div>
            <div class="code">
// åŸºæœ¬è¨ˆæ•¸å™¨åŠŸèƒ½
setup() {
  const count = ref(0)
  
  // å®šç¾©æ–¹æ³•
  function increment() {
    count.value++  // æ³¨æ„ï¼šä¿®æ”¹ ref éœ€è¦ä½¿ç”¨ .value
  }
  
  function decrement() {
    count.value--
  }
  
  return {
    count,
    increment,
    decrement
  }
}</div>
            <p class="highlight">é‡è¦ï¼šåœ¨ JavaScript ä¸­è¨ªå• ref éœ€è¦ä½¿ç”¨ <code>.value</code>ï¼Œä½†åœ¨æ¨¡æ¿ä¸­ Vue æœƒè‡ªå‹•è§£åŒ…ã€‚</p>
        </div>
        
        <!-- ç¯„ä¾‹ 3ï¼šOptions API å°æ¯” -->
        <div class="example">
            <h3>ç¯„ä¾‹ 3ï¼šèˆ‡ Options API å°æ¯”</h3>
            <div id="app3"></div>
            <div class="code">
// Options API (Vue 2 é¢¨æ ¼)
{
  data() {
    return {
      name: '',
      count: 0
    }
  },
  methods: {
    updateName(newName) {
      this.name = newName
    }
  }
}

// ç›¸åŒåŠŸèƒ½çš„ Composition API
setup() {
  const name = ref('')
  const count = ref(0)
  
  function updateName(newName) {
    name.value = newName
  }
  
  return { name, count, updateName }
}</div>
        </div>
        
        <!-- ç¯„ä¾‹ 4ï¼šå¤šå€‹ ref çš„ä½¿ç”¨ -->
        <div class="example">
            <h3>ç¯„ä¾‹ 4ï¼šç®¡ç†å¤šå€‹éŸ¿æ‡‰å¼æ•¸æ“š</h3>
            <div id="app4"></div>
            <div class="code">
setup() {
  const firstName = ref('å¼µ')
  const lastName = ref('å°æ˜')
  const age = ref(25)
  const isAdult = ref(true)
  
  function increaseAge() {
    age.value++
    isAdult.value = age.value >= 18
  }
  
  return {
    firstName,
    lastName,
    age,
    isAdult,
    increaseAge
  }
}</div>
        </div>
        
        <h2>ğŸ“– é‡é»ç¸½çµ</h2>
        <ul>
            <li><strong>setup() å‡½æ•¸</strong>ï¼šComposition API çš„å…¥å£é»</li>
            <li><strong>ref()</strong>ï¼šå‰µå»ºéŸ¿æ‡‰å¼çš„åŸºæœ¬æ•¸æ“šé¡å‹</li>
            <li><strong>.value</strong>ï¼šåœ¨ JavaScript ä¸­è¨ªå• ref çš„å€¼</li>
            <li><strong>è¿”å›å°è±¡</strong>ï¼šsetup() å¿…é ˆè¿”å›æ¨¡æ¿éœ€è¦çš„æ•¸æ“šå’Œæ–¹æ³•</li>
        </ul>
        
        <h2>ğŸ¯ ä¸‹ä¸€æ­¥</h2>
        <p>ç¾åœ¨ä½ å·²ç¶“ç†è§£äº† Composition API çš„åŸºç¤ï¼æ¥ä¸‹ä¾†è«‹å­¸ç¿’ï¼š</p>
        <ul>
            <li><a href="../02-reactive-refs/index.html">02 - éŸ¿æ‡‰å¼ç³»çµ±æ·±å…¥</a></li>
        </ul>
    </div>

    <script>
        const { createApp, ref } = Vue
        
        // ç¯„ä¾‹ 1ï¼šHello World
        createApp({
            template: `
                <div>
                    <h4>{{ message }}</h4>
                    <input v-model="message" placeholder="è©¦è©¦ä¿®æ”¹é€™å€‹æ–‡å­—">
                </div>
            `,
            setup() {
                const message = ref('Hello Vue 3!')
                return {
                    message
                }
            }
        }).mount('#app1')
        
        // ç¯„ä¾‹ 2ï¼šè¨ˆæ•¸å™¨
        createApp({
            template: `
                <div>
                    <h4>è¨ˆæ•¸: {{ count }}</h4>
                    <button @click="increment">+1</button>
                    <button @click="decrement">-1</button>
                    <button @click="reset">é‡ç½®</button>
                </div>
            `,
            setup() {
                const count = ref(0)
                
                function increment() {
                    count.value++
                }
                
                function decrement() {
                    count.value--
                }
                
                function reset() {
                    count.value = 0
                }
                
                return {
                    count,
                    increment,
                    decrement,
                    reset
                }
            }
        }).mount('#app2')
        
        // ç¯„ä¾‹ 3ï¼šè¡¨å–®è¼¸å…¥
        createApp({
            template: `
                <div>
                    <h4>è¼¸å…¥ä½ çš„åå­—ï¼š</h4>
                    <input v-model="name" placeholder="è«‹è¼¸å…¥åå­—">
                    <p>ä½ å¥½ï¼Œ{{ name || 'è¨ªå®¢' }}ï¼</p>
                    <p>ä½ è¼¸å…¥äº† {{ name.length }} å€‹å­—ç¬¦</p>
                </div>
            `,
            setup() {
                const name = ref('')
                
                return {
                    name
                }
            }
        }).mount('#app3')
        
        // ç¯„ä¾‹ 4ï¼šå¤šå€‹æ•¸æ“š
        createApp({
            template: `
                <div>
                    <h4>å€‹äººè³‡è¨Šï¼š</h4>
                    <p>å§“åï¼š{{ firstName }} {{ lastName }}</p>
                    <p>å¹´é½¡ï¼š{{ age }} æ­² {{ isAdult ? '(æˆå¹´)' : '(æœªæˆå¹´)' }}</p>
                    <button @click="increaseAge">éç”Ÿæ—¥ ğŸ‚</button>
                    <div style="margin-top: 10px;">
                        <input v-model="firstName" placeholder="å§“æ°">
                        <input v-model="lastName" placeholder="åå­—">
                    </div>
                </div>
            `,
            setup() {
                const firstName = ref('å¼µ')
                const lastName = ref('å°æ˜')
                const age = ref(25)
                const isAdult = ref(true)
                
                function increaseAge() {
                    age.value++
                    isAdult.value = age.value >= 18
                }
                
                return {
                    firstName,
                    lastName,
                    age,
                    isAdult,
                    increaseAge
                }
            }
        }).mount('#app4')
    </script>
</body>
</html>